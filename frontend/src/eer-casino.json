{
  "create": "CREATE DATABASE `casino`;\n\nUSE `casino`;\n\nCREATE TABLE `casinos` (\n  `id` int(11) NOT NULL AUTO_INCREMENT,\n  `name` varchar(45) DEFAULT NULL,\n  PRIMARY KEY (`id`)\n);\n\nCREATE TABLE `games_types` (\n  `id` varchar(15) NOT NULL,\n  `description` varchar(45) DEFAULT NULL,\n  PRIMARY KEY (`id`),\n  UNIQUE KEY `id_UNIQUE` (`id`)\n);\n\nCREATE TABLE `games` (\n  `id` int(11) NOT NULL AUTO_INCREMENT,\n  `cassino_id` int(11) NOT NULL,\n  `type` varchar(15) DEFAULT NULL,\n  `name` varchar(60) DEFAULT NULL,\n  `description` varchar(300) DEFAULT NULL,\n  PRIMARY KEY (`id`),\n  KEY `type_fk_idx` (`type`),\n  KEY `casino_fk_idx` (`cassino_id`),\n  CONSTRAINT `casino_fk` FOREIGN KEY (`cassino_id`) REFERENCES `casinos` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION,\n  CONSTRAINT `type_fk` FOREIGN KEY (`type`) REFERENCES `games_types` (`id`) ON DELETE SET NULL ON UPDATE CASCADE\n);\n\nCREATE TABLE `games_countries` (\n  `id` bigint(20) NOT NULL AUTO_INCREMENT,\n  `game_id` int(11) NOT NULL,\n  `country` char(2) NOT NULL,\n  PRIMARY KEY (`id`),\n  UNIQUE KEY `game_country` (`game_id`,`country`),\n  CONSTRAINT `game_country_fk` FOREIGN KEY (`game_id`) REFERENCES `games` (`id`) ON DELETE CASCADE ON UPDATE CASCADE\n);\n\nCREATE TABLE `players` (\n  `id` bigint(20) NOT NULL AUTO_INCREMENT,\n  `name` varchar(100) NOT NULL,\n  `email` varchar(120) NOT NULL,\n  `country` char(2) NOT NULL,\n  PRIMARY KEY (`id`)\n);\n\nCREATE TABLE `players_favorites` (\n  `id` bigint(20) NOT NULL AUTO_INCREMENT,\n  `player_id` bigint(20) NOT NULL,\n  `game_id` int(11) DEFAULT NULL,\n  PRIMARY KEY (`id`),\n  UNIQUE KEY `player_game` (`player_id`,`game_id`),\n  KEY `game_fk_idx` (`game_id`),\n  CONSTRAINT `game_fk` FOREIGN KEY (`game_id`) REFERENCES `games` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,\n  CONSTRAINT `player_fk` FOREIGN KEY (`player_id`) REFERENCES `players` (`id`) ON DELETE CASCADE ON UPDATE CASCADE\n);",
  "query": "select\n    players.id as player_id,\n    players.name as player_name,\n    players_favorites.game_id,\n    games.name as game_name\nfrom players\n    inner join players_favorites\n        on players_favorites.player_id = players.id\n    inner join games\n        on games.id = players_favorites.game_id and games.type = 'SLOT';"
}
